<ion-header>
  <ion-navbar>
    <ion-title>Home</ion-title>
  </ion-navbar>
</ion-header>

<ion-content>

    <ion-card *ngFor="let platePicture of lastPlatePictures">

      <ion-item>
        <ion-avatar item-start (click)="goToProfile(platePicture.userId)">
          <img *ngIf="platePicture.userImage" src="{{platePicture.userImage}}">
          <img *ngIf="!platePicture.userImage" src="assets/img/picture.png">
        </ion-avatar>
        <h2 text-lowercase (click)="goToProfile(platePicture.userId)">@{{platePicture.username}}</h2>
        <p>
          En <a href="#" class="primary" (click)="goToRestaurant(platePicture.restaurantId)" text-capitalize>{{platePicture.restaurantName}}</a> el {{platePicture.registeredOn}}
        </p>
      </ion-item>

      <img src="{{platePicture.picture}}">

      <ion-card-content>
        <p text-capitalize><ion-icon name="md-restaurant"></ion-icon> {{platePicture.plateName}}</p>
          <p *ngIf="platePicture.title"><ion-icon name="clipboard-outline"></ion-icon> {{platePicture.title}}</p>
      </ion-card-content>

      <ion-row>
        <ion-col>
            <button *ngIf="platePicture.likeToUser" (tap)="likeUnlike(platePicture.platePictureId)" ion-button icon-left clear small>
              <ion-icon name="heart"></ion-icon>
              <div>{{platePicture.likesNumber}} Likes</div>
            </button>
            <button *ngIf="!platePicture.likeToUser" (tap)="likeUnlike(platePicture.platePictureId)" ion-button icon-left clear small>
              <ion-icon name="heart-outline"></ion-icon>
              <div>{{platePicture.likesNumber}} Likes</div>
            </button>
        </ion-col>
        <ion-col>
            <button *ngIf="platePicture.commentsNumber > 0" (click)="goToComments(platePicture.platePictureId)" ion-button icon-left clear small>
              <ion-icon name="chatbubbles"></ion-icon>
              <div>{{platePicture.commentsNumber}} Comentarios</div>
            </button>
            <button *ngIf="platePicture.commentsNumber == null" (click)="goToComments(platePicture.platePictureId)" (click)="goToComments(platePicture.platePictureId)" ion-button icon-left clear small>
              <ion-icon name="chatbubbles"></ion-icon>
              <div>{{platePicture.commentsNumber}} Comentarios</div>
            </button>
        </ion-col>
        <ion-col center text-center>
            <ion-note>
              
            </ion-note>
        </ion-col>
      </ion-row>

      

    </ion-card>

</ion-content>
