<ion-header>
  <ion-navbar>
    <ion-title>Home</ion-title>
  </ion-navbar>
</ion-header>

<ion-content>

    <ion-card *ngFor="let platePicture of lastPlatePictures">

      <ion-item>
        <ion-avatar item-start (click)="goToProfile(platePicture.userId)">
          <img *ngIf="platePicture.userImage" src="{{platePicture.userImage}}">
          <img *ngIf="!platePicture.userImage" src="assets/img/picture.png">
        </ion-avatar>
        <h2 text-lowercase (click)="goToProfile(platePicture.userId)">@{{platePicture.username}}</h2>
        <p>
          En <a href="#" class="primary" (click)="goToRestaurant(platePicture.restaurantId)" text-capitalize>{{platePicture.restaurantName}}</a> el {{platePicture.registeredOn}}
        </p>
      </ion-item>

      <img src="{{platePicture.picture}}">

      <ion-card-content class="card-content-home">
        <p text-capitalize><ion-icon name="md-restaurant"></ion-icon> {{platePicture.plateName}}</p>
        <p *ngIf="platePicture.title"><ion-icon name="clipboard-outline"></ion-icon> {{platePicture.title}}</p>
      </ion-card-content>

      <ion-row no-padding>
        <ion-col col-6></ion-col>
        <ion-col col-3>
          
          <button *ngIf="platePicture.likeToUser" (tap)="likeUnlike(platePicture.platePictureId)" ion-button color="danger" clear icon-left>
            <ion-icon name="heart"></ion-icon> {{platePicture.likesNumber}}
          </button>
          <button *ngIf="!platePicture.likeToUser" (tap)="likeUnlike(platePicture.platePictureId)" ion-button color="dark" clear icon-left>
            <ion-icon name="heart-outline"></ion-icon> {{platePicture.likesNumber}}
          </button>

        </ion-col>
        <ion-col col-3>
          <button *ngIf="platePicture.commentsNumber > 0" ion-button color="dark" (click)="goToComments(platePicture.platePictureId)" clear icon-left>
            <ion-icon name="chatbubbles"></ion-icon> {{platePicture.commentsNumber}}
          </button>
          <button *ngIf="platePicture.commentsNumber == null || platePicture.commentsNumber == null" ion-button color="dark" (click)="goToComments(platePicture.platePictureId)" clear icon-left>
            <ion-icon name="chatbubbles-outline"></ion-icon> {{platePicture.commentsNumber}}
          </button>
        </ion-col>
      </ion-row>

    </ion-card>

</ion-content>
